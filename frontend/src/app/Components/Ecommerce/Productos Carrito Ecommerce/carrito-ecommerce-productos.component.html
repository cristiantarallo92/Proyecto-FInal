<div class="container">  
    <div class="row">
        <div class="col-12 d-flex flex-row justify-content-between align-items-baseline navbar navbar-dark bg-dark text-light p-3 fs-3">  
                <h2>
                Tu Pedido ( {{ productsCart.length }} )
                </h2> 
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-cart-fill" viewBox="0 0 16 16">
                    <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
                </svg>
        </div> 
    </div>
    <div class="row d-flex flex-row align-items-center justify-content-center border border-1 p-2 vh-75" *ngFor="let p of productsCart"> 
        <div class="col-3">
            <div class="ratio ratio-4x3 overflow-hidden">
                    <img [src]="getPhoto(p.product)" class="w-100 h-100 object-fit-contain"> 
            </div>
        </div>  
        <div class="col-6 text-center">
            <h5> {{ p.product.name }} </h5> 
            <p>
                <small> {{ p.product.description }} </small> 
            </p> 
            <div class="d-flex flex-row justify-content-center align-items-center">
                    <label class="me-2">Cantidad: </label> 
                    <input class="w-25" type="number" [(ngModel)]="p.amount" min="1">
            </div> 
        </div> 
        <div class="col-3 d-flex flex-column justify-content-center">
                <p class="align-self-center"> {{ p.product.price * p.amount }}</p>
                <button class="btn btn-light" (click)="deleteProduct(p.product)">
                    <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512">
                    <path d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"/></svg>
                </button> 
        </div> 
    </div>
    <div class="p-5" *ngIf="this.productsCart.length == 0">
        <div class="col-12 text-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="currentColor" class="bi bi-cart-x-fill" viewBox="0 0 16 16">
                <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0m7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7.354 5.646 8.5 6.793l1.146-1.147a.5.5 0 0 1 .708.708L9.207 7.5l1.147 1.146a.5.5 0 0 1-.708.708L8.5 8.207 7.354 9.354a.5.5 0 1 1-.708-.708L7.793 7.5 6.646 6.354a.5.5 0 1 1 .708-.708"/>
            </svg>
            <h4>
                Ups! No tienes productos agregados <br> en el carrito
            </h4>
        </div>
    </div>
    <div class="row">
        <div class="navbar-dark bg-dark text-light col-9 d-flex">
            <p class="align-self-center fs-5 fw-bold text-light"> TOTAL: </p> 
        </div>
     <div class="col-3 bg-dark d-flex">
            <div>
                 <p class="fs-5 fw-bold text-light"> $ {{ calculateTotal() }}  </p> 
            </div>
        </div>   
        <div class="col-12 d-flex justify-content-center p-1">
             <button class="btn btn-dark btn-outline-light btn-sm border" (click)="finishCart()"> Finalizar compra </button> 
             <button class="btn btn-dark btn-outline-light btn-sm border" (click)="clearCart()"> Vaciar Carrito </button>  
        </div> 
    </div>
</div>
